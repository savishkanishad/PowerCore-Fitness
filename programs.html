<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>PowerCore Fitness | Programs</title>
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.4.0/fonts/remixicon.css" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <nav>
      <div class="nav__logo">
        <a href="#"><img src="assets/GGWP-removebg-preview.png" alt="logo" /></a>
      </div>
      <ul class="nav__links">
        <li class="link"><a href="index.html">Home</a></li>
        <li class="link"><a href="programs.html">Program</a></li>
        <li class="link"><a href="service.html">Service</a></li>
        <li class="link"><a href="about.html">About</a></li>
        <li class="link"><a href="contactus.html">Contact Us</a></li>
      </ul>
      <button class="btn" onclick="window.location.href='programs.html#login-form'">Join Now</button>
      <button class="nav__toggle" aria-label="Open Menu">
        <span class="nav__toggle-bar"></span>
        <span class="nav__toggle-bar"></span>
        <span class="nav__toggle-bar"></span>
      </button>
    </nav>

    <section id="register-form" class="section__container register">
      <div class="register__wrapper">
        <h2>Register</h2>
        <form id="register-form" class="register__form" action="register.php" method="POST">
          <div class="form__group">
            <input type="text" placeholder="Full Name" name="name" required />
          </div>
          <div class="form__group">
            <input type="email" placeholder="Email" name="email" required />
          </div>
          <div class="form__group">
            <input type="password" placeholder="Password" name="password" required />
          </div>
          <div class="form__group">
            <input type="password" placeholder="Confirm Password" name="confirm_password" required />
          </div>
          <div class="form__group">
            <input type="tel" placeholder="Phone Number" name="phone" required />
          </div>
          <div class="form__group">
            <select name="program" required>
              <option value="">Select Program</option>
              <option value="strength">Strength Training</option>
              <option value="cardio">Cardio Blast</option>
              <option value="yoga">Yoga & Flexibility</option>
              <option value="coaching">Personal Coaching</option>
            </select>
          </div>
          <button type="submit" class="btn">Register</button>
        </form>
      </div>
    </section>

    <section class="section__container">
      <h2>Our Programs</h2>
      <p>
        Explore a wide range of fitness programs designed for all levels. Whether you're looking for strength training, cardio, yoga, or personalized coaching—we’ve got something for everyone. Each program includes flexible schedules and expert guidance.
      </p>
    </section>
    <section class="section__container programs">
      <h2>Featured Programs & Pricing</h2>
      <div class="program__grid">
        <div class="program__card">
          <h3>Strength Training</h3>
          <ul>
            <li>Progressive resistance workouts</li>
            <li>Access to free weights & machines</li>
            <li>Weekly group sessions</li>
            <li>Nutrition guidance</li>
          </ul>
          <div class="program__price">
            <strong>LKR 2000.00/month</strong>
          </div>
          <button class="btn">Join Strength</button>
        </div>
        <div class="program__card">
          <h3>Cardio Blast</h3>
          <ul>
            <li>High-intensity interval training</li>
            <li>Endurance and stamina focus</li>
            <li>Unlimited cardio classes</li>
            <li>Heart rate monitoring</li>
          </ul>
          <div class="program__price">
            <strong>LKR 2500.00/month</strong>
          </div>
          <button class="btn">Join Cardio</button>
        </div>
        <div class="program__card">
          <h3>Yoga & Flexibility</h3>
          <ul>
            <li>Guided yoga sessions</li>
            <li>Stretching and mobility routines</li>
            <li>Mindfulness & relaxation</li>
            <li>All skill levels welcome</li>
          </ul>
          <div class="program__price">
            <strong>LKR 3000.00/month</strong>
          </div>
          <button class="btn">Join Yoga</button>
        </div>
        <div class="program__card">
          <h3>Personal Coaching</h3>
          <ul>
            <li>One-on-one sessions</li>
            <li>Custom training plans</li>
            <li>Progress tracking</li>
            <li>Direct support from trainers</li>
          </ul>
          <div class="program__price">
            <strong>LKR 3500.00/month</strong>
          </div>
          <button class="btn">Join Coaching</button>
        </div>
      </div>
    </section></div>

   



    <footer class="section__container footer">
      <p>© 2025 PowerCore Fitness. All rights reserved.</p>
    </footer>
    <script>
      // Hamburger menu toggle
      const navToggle = document.querySelector('.nav__toggle');
      const navLinks = document.querySelector('.nav__links');
      navToggle.addEventListener('click', () => {
        navLinks.classList.toggle('nav__links--open');
        navToggle.classList.toggle('nav__toggle--open');
      });
    </script>

 <script>

        // Improved Register Form Validation & API submission
        const registerForm = document.querySelector('.register__form');
        if (registerForm) {
          registerForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const name = registerForm.querySelector('input[name="name"]').value.trim();
            const email = registerForm.querySelector('input[name="email"]').value.trim();
            const password = registerForm.querySelector('input[name="password"]').value;
            const confirmPassword = registerForm.querySelector('input[name="confirm_password"]').value;
            const phone = registerForm.querySelector('input[name="phone"]').value.trim();
            const program = registerForm.querySelector('select[name="program"]').value;
            let errors = [];

            // Name validation
            if (name.length < 3) {
              errors.push('Name must be at least 3 characters long.');
            }
            // Email validation
            const emailPattern = /^[^@\s]+@[^@\s]+\.[^@\s]+$/;
            if (!emailPattern.test(email)) {
              errors.push('Please enter a valid email address.');
            }
            // Password validation
            if (password.length < 6) {
              errors.push('Password must be at least 6 characters long.');
            }
            // Confirm password
            if (password !== confirmPassword) {
              errors.push('Passwords do not match.');
            }
            // Phone validation
            const phonePattern = /^[0-9]{10,15}$/;
            if (!phonePattern.test(phone)) {
              errors.push('Please enter a valid phone number (10-15 digits).');
            }
            // Program selection
            if (!program) {
              errors.push('Please select a program.');
            }

            if (errors.length > 0) {
              alert(errors.join('\n'));
              return;
            }

            // If validation passes, submit via fetch to Node.js API
            fetch('/api/register', {
              method: 'POST',
              headers: { 'Content-Type': 'application/json' },
              body: JSON.stringify({ name, email, password, phone, program })
            })
            .then(response => response.json())
            .then(data => {
              alert(data.message || 'Registration successful!');
              if (data.success) {
                registerForm.reset();
              }
            })
            .catch(error => {
              alert('An error occurred: ' + error.message);
            });
          });
        }
    </script>

<script>
      document.querySelector('.register__form').addEventListener('submit', function(event) {
        event.preventDefault();
        const name = this.name.value.trim();
        const email = this.email.value.trim();
        const password = this.password.value;
        const phone = this.phone.value.trim();
        const program = this.program.value;

        fetch('/api/register', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ name, email, password, phone, program })
        })
        .then(response => response.json())
        .then(data => {
          alert(data.message || 'Registration successful!');
          this.reset();
        })
        .catch(error => {
          alert('An error occurred: ' + error.message);
        });
      });
    </script>

  </body>
</html>
